# AI Commerce Platform

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–ú—É–ª—å—Ç–∏–∞—Ä–µ–Ω–¥–Ω–∞—è AI-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–¥–∞–∂ —á–µ—Ä–µ–∑ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä—ã Telegram –∏ WhatsApp. –°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞–º —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã—Ö –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫–ª–∏–µ–Ω—Ç–æ–≤, –ø–æ–¥–±–æ—Ä–∞ —Ç–æ–≤–∞—Ä–æ–≤, —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ –ø—Ä–∏–µ–º–∞ –∑–∞–∫–∞–∑–æ–≤.

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –î–ª—è –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤ (B2B/B2C –∫–æ–º–ø–∞–Ω–∏–∏)
- **–ú—É–ª—å—Ç–∏–∫–∞–Ω–∞–ª—å–Ω–æ—Å—Ç—å**: Telegram –∏ WhatsApp –±–æ—Ç—ã
- **AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç**: –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤, –ø–æ–¥–±–æ—Ä —Ç–æ–≤–∞—Ä–æ–≤, —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
- **–ì–æ–ª–æ—Å –∏ —Ñ–æ—Ç–æ**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **–î–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ö–ü, —Å—á–µ—Ç–æ–≤
- **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Å–ø—Ä–æ—Å–∞**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ "–¥—ã—Ä" –≤ –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç–µ
- **–≠—Å–∫–∞–ª–∞—Ü–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —Å–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- **–ú—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–æ—Å—Ç—å**: –ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞–º–∏
- **JSON-–ø—Ä–æ—Ç–æ–∫–æ–ª**: –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **RAG**: –û—Ç–≤–µ—Ç—ã —Ç–æ–ª—å–∫–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ñ–∞–∫—Ç–æ–≤ –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: PostgreSQL + Neon –¥–ª—è –æ–±–ª–∞—á–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Node.js 20+
- PostgreSQL (–∏–ª–∏ Neon Database)
- OpenAI API –∫–ª—é—á
- Telegram Bot Token (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- WhatsApp Business API –¥–æ—Å—Ç—É–ø (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:

```bash
# Database
DATABASE_URL=postgresql://user:pass@host/dbname

# OpenAI
OPENAI_API_KEY=sk-...

# Server
BASE_URL=https://your-domain.com
PORT=5000

# Optional: –¥–ª—è production
NODE_ENV=production
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
npm run db:push
```

### –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
npm run dev
```

### –°–±–æ—Ä–∫–∞ –¥–ª—è production

```bash
npm run build
npm start
```

## ü§ñ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–æ–≤

### Telegram Bot

1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/botfather)
2. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
3. –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞:

```json
{
  "settings": {
    "telegramBotToken": "YOUR_BOT_TOKEN",
    "operatorGroupId": "-1001234567890"
  }
}
```

### WhatsApp Business

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –≤ [Meta for Developers](https://developers.facebook.com)
2. –°–æ–∑–¥–∞–π—Ç–µ WhatsApp Business –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –ü–æ–ª—É—á–∏—Ç–µ Access Token –∏ Phone Number ID
4. –î–æ–±–∞–≤—å—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞:

```json
{
  "settings": {
    "whatsappAccessToken": "YOUR_ACCESS_TOKEN",
    "whatsappPhoneNumberId": "YOUR_PHONE_NUMBER_ID",
    "whatsappVerifyToken": "custom_verify_token",
    "operatorWhatsApp": "+7XXXXXXXXXX"
  }
}
```

## üìä API Endpoints

### –ê—Ä–µ–Ω–¥–∞—Ç–æ—Ä—ã (Tenants)
- `GET /api/tenants` - –°–ø–∏—Å–æ–∫ –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤
- `POST /api/tenants` - –°–æ–∑–¥–∞—Ç—å –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞
- `GET /api/tenants/:id` - –ü–æ–ª—É—á–∏—Ç—å –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞
- `PUT /api/tenants/:id` - –û–±–Ω–æ–≤–∏—Ç—å –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞

### –¢–æ–≤–∞—Ä—ã (Products)
- `GET /api/products?tenantId=X` - –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
- `POST /api/products` - –°–æ–∑–¥–∞—Ç—å —Ç–æ–≤–∞—Ä
- `PUT /api/products/:id` - –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–≤–∞—Ä
- `DELETE /api/products/:id` - –£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä
- `POST /api/products/compare` - –°—Ä–∞–≤–Ω–∏—Ç—å —Ç–æ–≤–∞—Ä—ã
- `POST /api/products/search` - –£–º–Ω—ã–π –ø–æ–∏—Å–∫

### AI Chat
- `POST /api/ai/chat` - –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
- `POST /api/ai/voice` - –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –≥–æ–ª–æ—Å
- `POST /api/ai/image` - –ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
- `GET /api/analytics/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `GET /api/analytics/demand-tracking` - –ê–Ω–∞–ª–∏–∑ —Å–ø—Ä–æ—Å–∞
- `GET /api/analytics/demand-insights` - AI-–∏–Ω—Å–∞–π—Ç—ã

### Webhooks
- `POST /api/webhooks/telegram/:tenantId` - Telegram webhook
- `GET/POST /api/webhooks/whatsapp/:tenantId` - WhatsApp webhook

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Telegram   ‚îÇ     ‚îÇ  WhatsApp   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ                   ‚îÇ
       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ  Webhooks   ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ  AI Service ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ OpenAI GPT-4
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ   Storage   ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ PostgreSQL  ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞

```bash
curl -X POST http://localhost:5000/api/tenants \
  -H "Content-Type: application/json" \
  -d '{
    "name": "–¢–û–û –†–æ–º–∞—à–∫–∞",
    "slug": "romashka",
    "industry": "retail",
    "settings": {
      "telegramBotToken": "YOUR_TOKEN"
    }
  }'
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞

```bash
curl -X POST http://localhost:5000/api/products \
  -H "Content-Type: application/json" \
  -d '{
    "tenantId": "TENANT_UUID",
    "sku": "DR-001",
    "name": "–î—Ä–µ–ª—å —É–¥–∞—Ä–Ω–∞—è BOSCH",
    "price": "27990",
    "category": "–≠–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã"
  }'
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ AI —á–∞—Ç–∞

```bash
curl -X POST http://localhost:5000/api/ai/chat \
  -H "Content-Type: application/json" \
  -d '{
    "tenantId": "TENANT_UUID",
    "message": "–ü–æ–∫–∞–∂–∏ –¥—Ä–µ–ª–∏ –¥–æ 30000 —Ç–≥",
    "channel": "telegram"
  }'
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≥–∏—Ä—É–µ—Ç:
- –í—Å–µ API –∑–∞–ø—Ä–æ—Å—ã —Å –≤—Ä–µ–º–µ–Ω–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- –ú–µ—Ç—Ä–∏–∫–∏ AI (—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å, –∏–Ω—Ç–µ–Ω—Ç—ã)
- –≠—Å–∫–∞–ª–∞—Ü–∏–∏ –∫ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **–ò–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**: Row-Level Security –¥–ª—è –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: Zod —Å—Ö–µ–º—ã –¥–ª—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–°–µ–∫—Ä–µ—Ç—ã**: –•—Ä–∞–Ω–∏—Ç–µ –∫–ª—é—á–∏ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **HTTPS**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SSL –¥–ª—è production

## üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Replit

1. –§–æ—Ä–∫–Ω–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Secrets:
   - DATABASE_URL
   - OPENAI_API_KEY
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É `npm run db:push`
4. –ù–∞–∂–º–∏—Ç–µ Run

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–æ—Ç–æ–≤
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

### v1.0.0 (2024)
- ‚úÖ –ë–∞–∑–æ–≤–∞—è –º—É–ª—å—Ç–∏–∞—Ä–µ–Ω–¥–Ω–æ—Å—Ç—å
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Telegram/WhatsApp
- ‚úÖ AI –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π JSON-–ø—Ä–æ—Ç–æ–∫–æ–ª
- ‚úÖ –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ —Ñ–æ—Ç–æ
- ‚úÖ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Å–ø—Ä–æ—Å–∞
- ‚úÖ –≠—Å–∫–∞–ª–∞—Ü–∏—è –∫ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º

### Roadmap
- üîÑ Google Drive –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- üîÑ –ü–ª–∞—Ç–µ–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã (Kaspi, PayBox)
- üîÑ –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- üîÑ A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤
- üîÑ –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
